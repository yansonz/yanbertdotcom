// ë‹¤êµ­ì–´ ì§€ì› ì‹œìŠ¤í…œ
const I18n = {
  lang: 'en',

  texts: {
    ko: {
      title: "ì–€ë²„íŠ¸ ì§‘ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!",
      instructions: 'ğŸ• ë°©í–¥í‚¤ë¡œ ì´ë™ | Spaceë¡œ ì–€ë²„íŠ¸ì™€ ëŒ€í™”',
      dialogHint: 'Space / íƒ­ìœ¼ë¡œ ê³„ì†',
      location: 'ì„œìš¸',
      catMeow: 'ì•¼ì˜¹~',
      mailbox: {
        name: 'ğŸ“® ìš°í¸í•¨',
        lines: [
          'ì´ í¸ì§€ëŠ” ì˜êµ­ì—ì„œ ìµœì´ˆë¡œ ì‹œì‘ë˜ì–´ ì¼ë…„ì— í•œë°”í€´ë¥¼ ëŒë©´ì„œ ë°›ëŠ” ì‚¬ëŒì—ê²Œ í–‰ìš´ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.',
          'ì§€ê¸ˆì€ ë‹¹ì‹ ì—ê²Œë¡œ ì˜®ê²¨ì§„ ì´ í¸ì§€ëŠ” 4ì¼ ì•ˆì— ë‹¹ì‹  ê³ì„ ë– ë‚˜ì•¼ í•©ë‹ˆë‹¤.',
          'ì´ í¸ì§€ë¥¼ ë³´ë‚¸ ì‚¬ëŒì€...',
          'ğŸ‘¨ ì–€: <a href="https://www.linkedin.com/in/yanso" target="_blank">LinkedIn</a> | <a href="http://yanlog.yanbert.com" target="_blank">Blog</a><br>ğŸ‘© ë¡œë²„íŠ¸: <a href="https://www.linkedin.com/in/yoojin-lee-b7160511a" target="_blank">LinkedIn</a> | <a href="http://robert.yanbert.com" target="_blank">Blog</a>',
          'ì´ í¸ì§€ë¥¼ ë¬´ì‹œí•˜ë©´ í•˜ë£¨ì—ê²Œ ê°„ì‹ì„ ë¹¼ì•—ê¹ë‹ˆë‹¤. ë¯¿ê±°ë‚˜ ë§ê±°ë‚˜... ğŸ•'
        ]
      },
      yan: {
        name: 'ì–€',
        lines: [
          'ì–´, í•˜ë£¨! ì™”êµ¬ë‚˜~ ì˜¤ëŠ˜ë„ ì‚°ì±… ë‚˜ì™”ì–´?',
          'ì •ì›ì— ìƒˆë¡œ ì‹¬ì€ ì¥ë¯¸ê°€ ì˜ ìë¼ê³  ìˆì–´. í•œë²ˆ ë´ë´!',
          'ë¡œë²„íŠ¸ê°€ ì˜¤ëŠ˜ ë§›ìˆëŠ” ê°„ì‹ ë§Œë“¤ì—ˆëŒ€. ê°€ì„œ ë¬¼ì–´ë´!',
          'ë‚ ì”¨ê°€ ì°¸ ì¢‹ë‹¤... í•˜ë£¨ë‘ ê°™ì´ ìˆìœ¼ë‹ˆê¹Œ ë” ì¢‹ë„¤.',
          'í•˜ë£¨ì•¼, ë„Œ ì •ë§ ìš°ë¦¬ ê°€ì¡±ì˜ ë³´ë¬¼ì´ì•¼. ì•Œì§€?',
          'ì˜¤ëŠ˜ ì½”ë”©í•˜ë‹¤ê°€ ë²„ê·¸ ì¡ëŠë¼ í˜ë“¤ì—ˆëŠ”ë°... í•˜ë£¨ ë³´ë‹ˆê¹Œ íë§ëœë‹¤.',
          'ê¼¬ë¦¬ í”ë“œëŠ” ê±° ë´~ ê¸°ë¶„ ì¢‹ì€ ê±°ì§€? ë‚˜ë„ ê¸°ë¶„ ì¢‹ì•„!',
          'ê³ ì–‘ì´ëŠ” ì ˆëŒ€ ëª»ì¡ìœ¼ë‹ˆê¹Œ í¬ê¸°í•´.',
          'í•˜ë£¨ë•Œë¬¸ì— ë‚˜ë¬´ì— ìƒˆë“¤ ë‹¤ ë‚ ì•„ê°„ë‹¤ğŸ¦',
        ]
      },
      robert: {
        name: 'ë¡œë²„íŠ¸',
        lines: [
          'í•˜ë£¨~ ìš°ë¦¬ ê·€ì—¬ìš´ ê°•ì•„ì§€! ì˜ ì§€ëƒˆì–´?',
          'ë°©ê¸ˆ ê°•ì•„ì§€ ì¿ í‚¤ êµ¬ì› ëŠ”ë°, í•˜ë‚˜ ì¤„ê¹Œ? ğŸª',
          'ì •ì›ì˜ ê½ƒë“¤ì´ ì˜ˆì˜ê²Œ í”¼ì—ˆì§€? í•˜ë£¨ê°€ ë°Ÿì§€ ì•Šê²Œ ì¡°ì‹¬í•´ì¤˜~',
          'ì–€ì´ ë˜ ì»´í“¨í„° ì•ì—ë§Œ ì•‰ì•„ìˆë„¤... í•˜ë£¨ê°€ ê°€ì„œ ë†€ì•„ë‹¬ë¼ê³  í•´ë´!',
          'í•˜ë£¨ì•¼, ì˜¤ëŠ˜ ê°™ì´ ì‚°ì±… ê°ˆê¹Œ? ê³µì›ì— ë‹¤ë¥¸ ê°•ì•„ì§€ ì¹œêµ¬ë“¤ë„ ìˆì„ ê±°ì•¼.',
          'ìš°ë¦¬ í•˜ë£¨ëŠ” ì„¸ìƒì—ì„œ ì œì¼ ì˜ìƒê¸´ ê°•ì•„ì§€ì•¼~ ë§ì§€?',
          'ê°„ì‹ ë” ì¤„ê¹Œ? ...ì–€í•œí…ŒëŠ” ë¹„ë°€ì´ì•¼! ğŸ¤«',
          'ê·¸ëŸ´ ìˆ˜ ìˆì§€',
          'í—ˆë½ë³´ë‹¤ ìš©ì„œê°€ ì‰½ë‹¤!',
          'ì§€ê¸ˆ ìŒì•…ì€ ëª¨ì°¨ë¥´íŠ¸ ë ˆí€´ì—  Introitus ìŠ¤íƒ€ì¼ì˜ Dë‹¨ì¡° ë©œë¡œë””ì•¼ ì–´ë•Œ?',
        ]
      }
    },
    en: {
      title: "Welcome to YANBERT's house!",
      instructions: 'ğŸ• Arrow keys to move | Space to talk to YANBERT',
      dialogHint: 'Press Space to continue',
      location: 'Seoul',
      catMeow: 'Meow~',
      mailbox: {
        name: 'ğŸ“® Mail Box',
        lines: [
          'DO NOT DELETE THIS MESSAGE!! Forward this to 10 friends or face 7 years of bad luck!!!',
          'A guy in Ohio ignored this in 2003 and his WiFi has been slow ever since...',
          'This message was sent by...',
          'ğŸ‘¨ Yan: <a href="https://www.linkedin.com/in/yanso" target="_blank">LinkedIn</a> | <a href="http://yanlog.yanbert.com" target="_blank">Blog</a><br>ğŸ‘© Robert: <a href="https://www.linkedin.com/in/yoojin-lee-b7160511a" target="_blank">LinkedIn</a> | <a href="http://robert.yanbert.com" target="_blank">Blog</a>',
          'If you ignore this, Haru WILL find your snacks. You have been warned... ğŸ•'
        ]
      },
      yan: {
        name: 'Yan',
        lines: [
          "Oh, Haru! You're here~ Out for a walk today?",
          'The roses I planted in the garden are growing well. Take a look!',
          'Robert made some tasty treats today. Go ask her!',
          "The weather is so nice... It's even better with you, Haru.",
          "Haru, you're truly our family's treasure. You know that, right?",
          'I was debugging code all day... Seeing you makes it all better.',
          "Look at that tail wagging~ You're happy, right? Me too!",
          "You'll never catch that cat, so just give up.",
          "Haru keeps scaring all the birds away from the trees ğŸ¦",
        ]
      },
      robert: {
        name: 'Robert',
        lines: [
          'Haru~ Our cute puppy! How have you been?',
          'I just baked some doggy cookies. Want one? ğŸª',
          "The flowers in the garden are so pretty! Be careful not to step on them~",
          "Yan is sitting at the computer again... Haru, go ask him to play!",
          'Haru, shall we go for a walk today? There will be other dog friends at the park.',
          "Our Haru is the most handsome dog in the world~ Right?",
          "Want more treats? ...Don't tell Yan! ğŸ¤«",
          "It happens",
          "Easier to ask forgiveness than permission!",
          "The music is Mozart's Requiem Introitus style in D minor. How do you like it?",
        ]
      }
    }
  },

  init() {
    const browserLang = navigator.language || navigator.userLanguage || 'en';
    this.lang = browserLang.startsWith('ko') ? 'ko' : 'en';
    this.applyToDOM();
  },

  get(key) {
    return this.texts[this.lang][key] || this.texts['en'][key] || key;
  },

  getNpcData(npcId) {
    return this.texts[this.lang][npcId] || this.texts['en'][npcId];
  },

  applyToDOM() {
    const titleEl = document.getElementById('title');
    if (titleEl) titleEl.textContent = this.get('title');

    const instrEl = document.querySelector('#instructions p');
    if (instrEl) instrEl.textContent = this.get('instructions');

    const hintEl = document.querySelector('.dialog-hint');
    if (hintEl) hintEl.textContent = this.get('dialogHint');

    const toggleEl = document.getElementById('lang-toggle');
    if (toggleEl) toggleEl.textContent = 'ğŸŒ ' + (this.lang === 'ko' ? 'í•œêµ­ì–´' : 'EN');



    // ë‚ ì”¨ ì •ë³´ ê°±ì‹ 
    if (typeof Weather !== 'undefined') {
      Weather.updateInfoElement();
    }
  },

  toggle() {
    this.lang = this.lang === 'ko' ? 'en' : 'ko';
    this.applyToDOM();
  }
};
